<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- This file was created with the aha Ansi HTML Adapter. https://github.com/theZiz/aha -->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="application/xml+xhtml; charset=UTF-8" />
<title>stdin</title>
</head>
<body>
<pre>
<span style="font-weight:bold;">diff --git a/src/main/java/de/unibremen/sfb/model/Archiv.java b/src/main/java/de/unibremen/sfb/model/Archiv.java</span>
<span style="font-weight:bold;">index 940d7f80..3eab08d3 100644</span>
<span style="font-weight:bold;">--- a/src/main/java/de/unibremen/sfb/model/Archiv.java</span>
<span style="font-weight:bold;">+++ b/src/main/java/de/unibremen/sfb/model/Archiv.java</span>
<span style="color:teal;">@@ -10,9 +10,15 @@</span> import java.time.LocalDateTime;
@Entity
@NoArgsConstructor(access = AccessLevel.PROTECTED)
@RequiredArgsConstructor
<span style="color:red;">/**</span><span style="color:green;">/*</span>
  Achive data class
 */
public class Archiv {

    <span style="color:green;">/** On delete set to invalid */</span>
<span style="color:green;">    @NonNull</span>
<span style="color:green;">    private boolean isValidData = true;</span>

    @Id @GeneratedValue
    private int id;

<span style="font-weight:bold;">diff --git a/src/main/java/de/unibremen/sfb/model/Auftrag.java b/src/main/java/de/unibremen/sfb/model/Auftrag.java</span>
<span style="font-weight:bold;">index d92b1979..7420b27d 100644</span>
<span style="font-weight:bold;">--- a/src/main/java/de/unibremen/sfb/model/Auftrag.java</span>
<span style="font-weight:bold;">+++ b/src/main/java/de/unibremen/sfb/model/Auftrag.java</span>
<span style="color:teal;">@@ -3,7 +3,9 @@</span> package de.unibremen.sfb.model;
import lombok.*;

import javax.persistence.*;
<span style="color:green;">import java.io.Serializable;</span>
import java.util.List;
<span style="color:green;">import java.util.Objects;</span>

/**
 * Job data class
<span style="color:teal;">@@ -11,8 +13,16 @@</span> import java.util.List;
@Data
@Entity
@RequiredArgsConstructor
<span style="color:red;">@NoArgsConstructor(access</span><span style="color:green;">@NoArgsConstructor</span>
<span style="color:green;">@NamedQueries({</span>
<span style="color:green;">        @NamedQuery(name</span> = <span style="color:red;">AccessLevel.PROTECTED)</span><span style="color:green;">&quot;Auftrag.getAll&quot;, query = &quot;SELECT a FROM Auftrag a WHERE a.isValidData = true&quot;)</span>

<span style="color:green;">})</span>
public class Auftrag <span style="color:green;">implements Serializable</span> {

    <span style="color:green;">/** On delete set to invalid */</span>
<span style="color:green;">    @NonNull</span>
<span style="color:green;">    private boolean isValidData = true;</span>

    /**
     * The job's id
<span style="color:teal;">@@ -21,24 +31,21 @@</span> public class Auftrag {
    @Id
    private int pkID;

    /**<span style="color:red;">*</span> The<span style="color:red;">process chain template this</span> job <span style="color:red;">was created from</span><span style="color:green;">name</span> */
    @NonNull
<span style="color:red;">@OneToOne</span>    private <span style="color:red;">ProzessKettenVorlage vorlage;</span><span style="color:green;">String name;</span>

    /**
     * The job's priority
     */
    @NonNull
    private <span style="color:red;">Enum&lt;AuftragsPrioritaet&gt;</span><span style="color:green;">AuftragsPrioritaet</span> priority;

    /**
     * The job's process steps TODO hier ID
     */
    @NonNull
    <span style="color:red;">@OneToMany</span><span style="color:green;">@ManyToMany(fetch = FetchType.LAZY)</span>
    private List&lt;ProzessSchritt&gt; prozessSchritte;

    /**
<span style="color:teal;">@@ -54,9 +61,34 @@</span> public class Auftrag {
    @NonNull
    private Enum&lt;ProzessKettenZustandsAutomat&gt; prozessKettenZustandsAutomat;

    /**<span style="color:red;">*</span> The <span style="color:red;">user assigned to the job</span><span style="color:green;">Carrier</span> */
    <span style="color:red;">@OneToOne</span><span style="color:green;">@ManyToMany(fetch = FetchType.LAZY)</span>
    private <span style="color:red;">User assigned;</span><span style="color:green;">List&lt;Traeger&gt; traeger;</span>
<span style="color:green;">    </span>
<span style="color:green;">    private String ErrorMessage;</span>

<span style="color:green;">    @Override</span>
<span style="color:green;">    public String toString() {</span>
<span style="color:green;">        return &quot;Auftrag: &quot; + this.pkID;</span>
<span style="color:green;">    }</span>

<span style="color:green;">    @Override // FIXME Fabian: solltest du nicht noch gucken ob der Auftrag geloescht wurde</span>
<span style="color:green;">    public boolean equals(Object obj) {</span>
<span style="color:green;">        if (obj == null) {</span>
<span style="color:green;">            return false;</span>
<span style="color:green;">        }</span>
<span style="color:green;">        if (getClass() != obj.getClass()) {</span>
<span style="color:green;">            return false;</span>
<span style="color:green;">        }</span>
<span style="color:green;">        final Auftrag other = (Auftrag) obj;</span>
<span style="color:green;">        if (!Objects.equals(this.pkID, other.pkID)) {</span>
<span style="color:green;">            return false;</span>
<span style="color:green;">        }</span>
<span style="color:green;">        return true;</span>
<span style="color:green;">    }</span>

<span style="color:green;">    @Override</span>
<span style="color:green;">    public int hashCode() {</span>
<span style="color:green;">        return Objects.hash(isValidData(), getPkID(), getName(), getPriority(), getProzessSchritte(), getLog(), getProzessKettenZustandsAutomat(), getTraeger());</span>
<span style="color:green;">    }</span>
}
<span style="font-weight:bold;">diff --git a/src/main/java/de/unibremen/sfb/model/AuftragsLog.java b/src/main/java/de/unibremen/sfb/model/AuftragsLog.java</span>
<span style="font-weight:bold;">index 934ed285..d3a36b05 100644</span>
<span style="font-weight:bold;">--- a/src/main/java/de/unibremen/sfb/model/AuftragsLog.java</span>
<span style="font-weight:bold;">+++ b/src/main/java/de/unibremen/sfb/model/AuftragsLog.java</span>
<span style="color:teal;">@@ -15,6 +15,10 @@</span> import java.time.LocalDateTime;
@RequiredArgsConstructor
public class AuftragsLog {

    <span style="color:green;">/** On delete set to invalid */</span>
<span style="color:green;">    @NonNull</span>
<span style="color:green;">    private boolean isValidData = true;</span>

    @Id @GeneratedValue
    private int id;

<span style="font-weight:bold;">diff --git a/src/main/java/de/unibremen/sfb/model/Bedingung.java b/src/main/java/de/unibremen/sfb/model/Bedingung.java</span>
<span style="font-weight:bold;">deleted file mode 100644</span>
<span style="font-weight:bold;">index 634f6c36..00000000</span>
<span style="font-weight:bold;">--- a/src/main/java/de/unibremen/sfb/model/Bedingung.java</span>
<span style="font-weight:bold;">+++ /dev/null</span>
<span style="color:teal;">@@ -1,28 +0,0 @@</span>
<span style="color:red;">package de.unibremen.sfb.model;</span>

<span style="color:red;">import lombok.*;</span>

<span style="color:red;">import javax.persistence.Entity;</span>
<span style="color:red;">import javax.persistence.GeneratedValue;</span>
<span style="color:red;">import javax.persistence.Id;</span>
<span style="color:red;">import javax.persistence.OneToMany;</span>
<span style="color:red;">import java.util.List;</span>

<span style="color:red;">/** Conditional data class, used to make sure certain conditions apply */</span>
<span style="color:red;">@Getter</span>
<span style="color:red;">@Setter</span>
<span style="color:red;">@Entity</span>
<span style="color:red;">@NoArgsConstructor(access = AccessLevel.PROTECTED)</span>
<span style="color:red;">public class Bedingung {</span>

<span style="color:red;">    @Id @GeneratedValue</span>
<span style="color:red;">    private int id;</span>

<span style="color:red;">    /** Process step parameters that the material must have */</span>
<span style="color:red;">    @OneToMany</span>
<span style="color:red;">    private List&lt;ProzessSchrittParameter&gt; prozessSchrittParameter;</span>

<span style="color:red;">    /** Qualitative and quantitative descriptors that material needs to have */</span>
<span style="color:red;">    @OneToMany</span>
<span style="color:red;">    private List&lt;QualitativeEigenschaft&gt; eigenschaften;</span>
<span style="color:red;">}</span>
<span style="font-weight:bold;">diff --git a/src/main/java/de/unibremen/sfb/model/ExperimentierStation.java b/src/main/java/de/unibremen/sfb/model/ExperimentierStation.java</span>
<span style="font-weight:bold;">index 35f7b42e..18acc188 100644</span>
<span style="font-weight:bold;">--- a/src/main/java/de/unibremen/sfb/model/ExperimentierStation.java</span>
<span style="font-weight:bold;">+++ b/src/main/java/de/unibremen/sfb/model/ExperimentierStation.java</span>
<span style="color:teal;">@@ -2,31 +2,43 @@</span> package de.unibremen.sfb.model;

import lombok.*;

<span style="color:red;">import javax.inject.Named;</span>
import javax.persistence.*;
<span style="color:green;">import java.io.Serializable;</span>
import java.util.List;
<span style="color:red;">import java.util.Set;</span>

/**
 <span style="color:green;">*</span> Experimenting stations data class
 */
<span style="color:red;">@Data</span><span style="color:green;">@Getter</span>
<span style="color:green;">@Setter</span>
@Entity
@NamedQueries({
        @NamedQuery(name = &quot;ExperimentierStation.findAllInLocation&quot;,
                query = &quot;SELECT es FROM ExperimentierStation es WHERE es.standort = <span style="color:red;">:standort&quot;),</span><span style="color:green;">:standort AND es.isValidData = true&quot;),</span>
        @NamedQuery(name = &quot;ExperimentierStation.getByStatus&quot;,
                query = &quot;SELECT es FROM ExperimentierStation es WHERE es.status = <span style="color:red;">:status&quot;),</span><span style="color:green;">:status AND es.isValidData = true&quot;),</span>
        @NamedQuery(name = &quot;ExperimentierStation.getAll&quot;, query = &quot;SELECT es FROM ExperimentierStation <span style="color:red;">es&quot;)</span><span style="color:green;">es WHERE es.isValidData = true&quot;)</span>
})
@RequiredArgsConstructor
@NoArgsConstructor
public class ExperimentierStation <span style="color:green;">implements Serializable</span> {

    /**
     <span style="color:green;">* On delete set to invalid</span>
<span style="color:green;">     */</span>
<span style="color:green;">    @NonNull</span>
<span style="color:green;">    private boolean isValidData = true;</span>

<span style="color:green;">    /**</span>
<span style="color:green;">     *</span> The station's id
     */
    @NonNull
    @Id
    private int esID;

    /**
     <span style="color:green;">*</span> The station's location
     */
    @NonNull
    @ManyToOne
    private Standort standort;
<span style="color:teal;">@@ -34,20 +46,33 @@</span> public class ExperimentierStation {
    @NonNull
    private String name;

    /**
     <span style="color:green;">*</span> The station's status
     */
    @NonNull
    private Enum&lt;ExperimentierStationZustand&gt; status;

<span style="color:red;">    //TODO</span>
    /** The queue currently being processed at the experimenting station */
    <span style="color:red;">//</span><span style="color:green;">@OneToMany(fetch = FetchType.LAZY)</span>
    @NonNull<span style="color:red;">//</span>
   private <span style="color:red;">Queue&lt;ProzessSchritt&gt;</span><span style="color:green;">List&lt;ProzessSchritt&gt;</span> nextPS;<span style="color:red;">FIXME was passiert hiermit?</span>

    /** <span style="color:red;">Conditions for using an experimenting</span><span style="color:green;">Parameters required to use this</span> station */
    <span style="color:red;">@OneToMany</span><span style="color:green;">@ManyToMany(fetch = FetchType.LAZY)</span>
<span style="color:green;">    @NonNull</span>
    private <span style="color:red;">List&lt;Bedingung&gt; bedingungen;</span><span style="color:green;">List&lt;ProzessSchrittParameter&gt; requirements;</span>

    @NonNull
    <span style="color:red;">@ManyToMany</span><span style="color:green;">@ManyToMany(cascade = CascadeType.MERGE, fetch = FetchType.LAZY)</span>
    private List&lt;User&gt; benutzer;

    <span style="color:green;">@OneToOne</span>
<span style="color:green;">    private ProzessSchritt currentPS;</span>

<span style="color:green;">    @Override</span>
<span style="color:green;">    public String toString() {</span>
<span style="color:green;">        return standort.getOrt();</span>
<span style="color:green;">    }</span>


}
<span style="font-weight:bold;">diff --git a/src/main/java/de/unibremen/sfb/model/Kommentar.java b/src/main/java/de/unibremen/sfb/model/Kommentar.java</span>
<span style="font-weight:bold;">index 5efff777..c5065658 100644</span>
<span style="font-weight:bold;">--- a/src/main/java/de/unibremen/sfb/model/Kommentar.java</span>
<span style="font-weight:bold;">+++ b/src/main/java/de/unibremen/sfb/model/Kommentar.java</span>
<span style="color:teal;">@@ -14,6 +14,10 @@</span> import java.time.LocalDateTime;
@RequiredArgsConstructor
public class Kommentar {

    <span style="color:green;">/** On delete set to invalid */</span>
<span style="color:green;">    @NonNull</span>
<span style="color:green;">    private boolean isValidData = true;</span>

    @Id @GeneratedValue
    private int id;

<span style="font-weight:bold;">diff --git a/src/main/java/de/unibremen/sfb/model/Probe.java b/src/main/java/de/unibremen/sfb/model/Probe.java</span>
<span style="font-weight:bold;">index b58ec9b7..ff213024 100644</span>
<span style="font-weight:bold;">--- a/src/main/java/de/unibremen/sfb/model/Probe.java</span>
<span style="font-weight:bold;">+++ b/src/main/java/de/unibremen/sfb/model/Probe.java</span>
<span style="color:teal;">@@ -3,45 +3,86 @@</span> package de.unibremen.sfb.model;
import lombok.*;

import javax.persistence.*;
import <span style="color:red;">java.util.Set;</span><span style="color:green;">java.util.ArrayList;</span>
<span style="color:green;">import java.util.List;</span>

/**
 <span style="color:green;">*</span> Sample object data class
 */
<span style="color:red;">@Data</span><span style="color:green;">@Getter</span>
<span style="color:green;">@Setter</span>
@Entity
@NamedQueries({
        @NamedQuery(name = &quot;Probe.getByLocation&quot;,
                query = &quot;SELECT p FROM Probe p WHERE p.standort = <span style="color:red;">:standort&quot;),</span><span style="color:green;">:standort AND p.isValidData = true&quot;),</span>
        @NamedQuery(name = &quot;Probe.getByTraeger&quot;,
                query = &quot;SELECT p FROM Probe p WHERE p.currentTraeger = <span style="color:red;">:traeger&quot;)</span><span style="color:green;">:traeger AND p.isValidData = true&quot;),</span>
<span style="color:green;">        @NamedQuery(name = &quot;Probe.getById&quot;,</span>
<span style="color:green;">                query = &quot;select p from Probe p where p.probenID = :probenID and p.isValidData = true&quot;)</span>
})
@RequiredArgsConstructor
@NoArgsConstructor(access = AccessLevel.PROTECTED)
public class Probe {

    /**
     <span style="color:red;">The sample's id</span><span style="color:green;">* On delete set to invalid</span>
<span style="color:green;">     */</span>
<span style="color:green;">    @NonNull</span>
<span style="color:green;">    private boolean isValidData = true;</span>

<span style="color:green;">    /**</span>
<span style="color:green;">     * samples ID</span>
     */
    @NonNull
    @Id
    private <span style="color:red;">int</span><span style="color:green;">String</span> probenID;

    <span style="color:green;">/** Amount of samples */</span>
<span style="color:green;">    @NonNull</span>
<span style="color:green;">    private int anzahl;</span>

    /** <span style="color:green;">Amount of lost samples */</span>
<span style="color:green;">    @NonNull</span>
<span style="color:green;">    private int lost = 0;</span>

<span style="color:green;">    /**</span>
<span style="color:green;">     *</span> Comment added to the sample and when it was added
     */
    <span style="color:red;">@OneToOne</span><span style="color:green;">@ManyToMany(fetch = FetchType.LAZY)</span>
    private <span style="color:red;">Kommentar</span><span style="color:green;">List&lt;Kommentar&gt;</span> kommentar;
    <span style="color:green;">/*@OneToOne(fetch = FetchType.LAZY)*/</span>

    /**
     <span style="color:green;">*</span> The sample's state
     */
    @NonNull
    private Enum&lt;ProbenZustand&gt; zustand;

    /**
     <span style="color:green;">*</span> The sample's location
     */
    @NonNull
    <span style="color:red;">@OneToOne</span><span style="color:green;">@ManyToOne</span>
    private Standort standort;

    /**
     <span style="color:green;">*</span> The qualitative/quantitative descriptors of the sample
     */
    <span style="color:red;">@OneToMany</span><span style="color:green;">@ManyToMany(fetch = FetchType.LAZY)</span>
    private <span style="color:red;">Set&lt;QualitativeEigenschaft&gt; qualitativeEigenschaften;</span><span style="color:green;">List&lt;QualitativeEigenschaft&gt; eigenschaften = new ArrayList();</span>

    <span style="color:green;">@ElementCollection</span>
<span style="color:green;">    List&lt;String&gt; atribute = new ArrayList&lt;&gt;();</span>

    /**
     <span style="color:green;">*</span> The container the sample is currently located in
     */
    <span style="color:red;">@OneToOne</span><span style="color:green;">@ManyToOne</span>
    private Traeger currentTraeger;

    <span style="color:green;">@Override</span>
<span style="color:green;">    public String toString(){</span>
<span style="color:green;">        return &quot;Probe &quot; + probenID;</span>
<span style="color:green;">    }</span>
}

<span style="font-weight:bold;">diff --git a/src/main/java/de/unibremen/sfb/model/ProbenZustand.java b/src/main/java/de/unibremen/sfb/model/ProbenZustand.java</span>
<span style="font-weight:bold;">index 46937629..833b464a 100644</span>
<span style="font-weight:bold;">--- a/src/main/java/de/unibremen/sfb/model/ProbenZustand.java</span>
<span style="font-weight:bold;">+++ b/src/main/java/de/unibremen/sfb/model/ProbenZustand.java</span>
<span style="color:teal;">@@ -2,5 +2,5 @@</span> package de.unibremen.sfb.model;

/** The states a sample can be in */
public enum ProbenZustand {
    KAPUTT, VERLOREN, <span style="color:red;">VORHANDEN</span><span style="color:green;">VORHANDEN, ARCHIVIERT</span>
}
<span style="font-weight:bold;">diff --git a/src/main/java/de/unibremen/sfb/model/ProzessKettenVorlage.java b/src/main/java/de/unibremen/sfb/model/ProzessKettenVorlage.java</span>
<span style="font-weight:bold;">index 8abdca7c..5d2638f1 100644</span>
<span style="font-weight:bold;">--- a/src/main/java/de/unibremen/sfb/model/ProzessKettenVorlage.java</span>
<span style="font-weight:bold;">+++ b/src/main/java/de/unibremen/sfb/model/ProzessKettenVorlage.java</span>
<span style="color:teal;">@@ -3,31 +3,40 @@</span> package de.unibremen.sfb.model;
import lombok.*;

import javax.persistence.*;
<span style="color:green;">import java.io.Serializable;</span>
import java.util.List;

/** Data class for the process chain templates */
<span style="color:red;">@Data</span>
<span style="color:red;">@NamedQueries({</span>
<span style="color:red;">        @NamedQuery(name = &quot;PKV.getByUser&quot;,</span>
<span style="color:red;">                query = &quot;SELECT pkv FROM ProzessKettenVorlage pkv WHERE pkv.creator = :user&quot;) // FIXME Tutorgespraech Marcel meinte PK sind unabhaengig von Erstllern</span>
<span style="color:red;">})</span><span style="color:green;">@Getter</span>
<span style="color:green;">@Setter</span>
@Entity
@NoArgsConstructor(access = AccessLevel.PROTECTED)
<span style="color:green;">@NamedQueries({</span>
<span style="color:green;">        @NamedQuery(name = &quot;PKV.getAll&quot;, query = &quot;SELECT p FROM ProzessKettenVorlage p WHERE p.isValidData = true&quot;)</span>
<span style="color:green;">})</span>
@RequiredArgsConstructor
public class ProzessKettenVorlage <span style="color:green;">implements Serializable</span> {

    <span style="color:green;">/** On delete set to invalid */</span>
<span style="color:green;">    @NonNull</span>
<span style="color:green;">    private boolean isValidData = true;</span>

    /** The process chain template id */
    @Id
    @NonNull
    private int <span style="color:red;">pkID;</span><span style="color:green;">pkvID;</span>

<span style="color:green;">    /** Process chain template name */</span>
<span style="color:green;">    @NonNull</span>
<span style="color:green;">    private String name;</span>

    /** The process chain template's process steps (as templates hence not yet instantiated) */
    @NonNull
    <span style="color:red;">@OneToMany</span><span style="color:green;">@ManyToMany(fetch = FetchType.LAZY)</span>
    private List&lt;ProzessSchrittVorlage&gt; prozessSchrittVorlagen;

    <span style="color:red;">/** The user who created this template */</span>
<span style="color:red;">    @NonNull</span>
<span style="color:red;">    @ManyToOne</span>
<span style="color:red;">    private User creator;</span><span style="color:green;">@Override</span>
<span style="color:green;">    public String toString(){</span>
<span style="color:green;">        return name;</span>
<span style="color:green;">    }</span>
}
<span style="font-weight:bold;">diff --git a/src/main/java/de/unibremen/sfb/model/ProzessKettenZustandsAutomat.java b/src/main/java/de/unibremen/sfb/model/ProzessKettenZustandsAutomat.java</span>
<span style="font-weight:bold;">index 727549f0..8b53c2de 100644</span>
<span style="font-weight:bold;">--- a/src/main/java/de/unibremen/sfb/model/ProzessKettenZustandsAutomat.java</span>
<span style="font-weight:bold;">+++ b/src/main/java/de/unibremen/sfb/model/ProzessKettenZustandsAutomat.java</span>
<span style="color:teal;">@@ -2,5 +2,5 @@</span> package de.unibremen.sfb.model;

/** Different states a process chain can be in */
public enum ProzessKettenZustandsAutomat {
    INSTANZIIERT, FREIGEGEBEN, GESTARTET, ABGEBROCHEN, <span style="color:red;">DURCHGEFÜHRT</span><span style="color:green;">DURCHGEFUEHRT , ABGELEHNT</span>
}
<span style="font-weight:bold;">diff --git a/src/main/java/de/unibremen/sfb/model/ProzessSchritt.java b/src/main/java/de/unibremen/sfb/model/ProzessSchritt.java</span>
<span style="font-weight:bold;">index 727431a5..4095570c 100644</span>
<span style="font-weight:bold;">--- a/src/main/java/de/unibremen/sfb/model/ProzessSchritt.java</span>
<span style="font-weight:bold;">+++ b/src/main/java/de/unibremen/sfb/model/ProzessSchritt.java</span>
<span style="color:teal;">@@ -2,57 +2,117 @@</span> package de.unibremen.sfb.model;

import lombok.*;


import javax.persistence.*;
import <span style="color:red;">java.util.Set;</span><span style="color:green;">java.io.Serializable;</span>
<span style="color:green;">import java.util.List;</span>
<span style="color:green;">import java.util.Objects;</span>

/**
 <span style="color:green;">*</span> Data class for process chain steps
 */
<span style="color:red;">@Data</span><span style="color:green;">@Getter</span>
<span style="color:green;">@Setter</span>
@Entity
<span style="color:red;">@NamedQueries({</span>
<span style="color:red;">        @NamedQuery(name = &quot;ProzessSchritt.getByEs&quot;,</span>
<span style="color:red;">                query = &quot;SELECT ps FROM ProzessSchritt ps WHERE ps.current = :experimentierStation&quot;)</span>
<span style="color:red;">})</span>
@NoArgsConstructor(access = AccessLevel.PROTECTED)
@RequiredArgsConstructor
<span style="color:green;">@NamedQueries({</span>
<span style="color:green;">        @NamedQuery(name = &quot;PS.getAllAvailable&quot;, query = &quot;select ps from ProzessSchritt ps where ps.isValidData=true and ps.assigned = false&quot;)</span>
<span style="color:green;">})</span>
public class ProzessSchritt <span style="color:green;">implements Serializable</span> {

    /**
     <span style="color:red;">The process step id</span><span style="color:green;">* Valid data</span>
<span style="color:green;">     */</span>
<span style="color:green;">    private boolean isValidData = true;</span>

<span style="color:green;">    /**</span>
<span style="color:green;">     * ID</span>
     */<span style="color:red;">@NonNull</span>
    @Id
    <span style="color:green;">@NonNull</span>
    private int <span style="color:red;">psID;</span><span style="color:green;">id;</span>

    <span style="color:green;">/** Whether this step is assigned to a job */</span>
<span style="color:green;">    private boolean assigned = false;</span>

    /**
     <span style="color:red;">Whether or not the process</span><span style="color:green;">* Process</span> step <span style="color:red;">has been uploaded</span><span style="color:green;">state automaton</span>
     */
    <span style="color:green;">@NonNull</span>
<span style="color:green;">    @ManyToOne</span>
    private <span style="color:red;">boolean uploaded;</span><span style="color:green;">ProzessSchrittZustandsAutomat prozessSchrittZustandsAutomat;</span>

    /**
     <span style="color:red;">The experimenting station where</span><span style="color:green;">* Duration of</span> the<span style="color:red;">current</span> process step<span style="color:red;">is being carried out</span>
     */
    <span style="color:red;">//@NonNull TOOD Wann beginnt die Zuweisung?</span>
<span style="color:red;">    @OneToOne</span><span style="color:green;">@NonNull</span>
    private <span style="color:red;">ExperimentierStation current;</span><span style="color:green;">String duration;</span>

    <span style="color:green;">/**</span>
<span style="color:green;">     * Process step parameters</span>
<span style="color:green;">     */</span>
<span style="color:green;">    @NonNull</span>
<span style="color:green;">    @ManyToMany(fetch = FetchType.LAZY)</span>
<span style="color:green;">    private List&lt;ProzessSchrittParameter&gt; prozessSchrittParameters;</span>

    /**
     <span style="color:red;">The state Automaton for the process</span><span style="color:green;">* Process</span> step <span style="color:green;">attributes</span>
     */
    @NonNull
<span style="color:red;">@OneToOne</span>    private <span style="color:red;">ProzessSchrittZustandsAutomat zustandsAutomat;</span><span style="color:green;">String attribute;</span>

    /** <span style="color:red;">The</span><span style="color:green;">Process step</span> transport job<span style="color:red;">to be carried out</span> */
    <span style="color:red;">@OneToOne</span><span style="color:green;">@ManyToOne</span>
    private TransportAuftrag transportAuftrag;

    /** <span style="color:red;">The process step's</span><span style="color:green;">Process step</span> log */
    @NonNull
    @OneToMany
    private <span style="color:red;">Set&lt;ProzessSchrittLog&gt;</span><span style="color:green;">List&lt;ProzessSchrittLog&gt;</span> prozessSchrittLog;

    <span style="color:green;">@Override</span>
<span style="color:green;">    public boolean equals(Object o) {</span>
<span style="color:green;">        if (this == o) return true;</span>
<span style="color:green;">        if (!(o instanceof ProzessSchritt)) return false;</span>
<span style="color:green;">        ProzessSchritt that = (ProzessSchritt) o;</span>
<span style="color:green;">        return getId() == that.getId();</span>
<span style="color:green;">    }</span>

<span style="color:green;">    @Override</span>
<span style="color:green;">    public int hashCode() {</span>
<span style="color:green;">        return Objects.hash(getId());</span>
<span style="color:green;">    }</span>

<span style="color:green;">    /**</span>
<span style="color:green;">     * Process step name</span>
<span style="color:green;">     */</span>
<span style="color:green;">    @NonNull</span>
<span style="color:green;">    private String name;</span>

    /** <span style="color:red;">The process step template the process step was created from</span><span style="color:green;">Urformend</span> */
    @NonNull
<span style="color:red;">@OneToOne</span>    private <span style="color:red;">ProzessSchrittVorlage prozessSchrittVorlage;</span><span style="color:green;">boolean urformend;</span>

<span style="color:green;">    /** If urformend, amount created */</span>
<span style="color:green;">    @NonNull</span>
<span style="color:green;">    private int amountCreated;</span>

<span style="color:green;">    /** ID of created samples */</span>
<span style="color:green;">    private String createdName;</span>

<span style="color:green;">    /** Accepted input container types */</span>
<span style="color:green;">    @ElementCollection</span>
<span style="color:green;">    private List&lt;String&gt; eingabe;</span>

    /** <span style="color:red;">The containers that are used in the process step</span><span style="color:green;">Output container types</span> */
    <span style="color:red;">@OneToOne</span><span style="color:green;">@ElementCollection</span>
    private <span style="color:red;">Traeger traeger;</span><span style="color:green;">List&lt;String&gt; ausgabe;</span>

    <span style="color:green;">boolean uploaded = false;</span>

    <span style="color:green;">@Override</span>
<span style="color:green;">    public String toString(){</span>
<span style="color:green;">        return name;</span>
<span style="color:green;">    }</span>
}
<span style="font-weight:bold;">diff --git a/src/main/java/de/unibremen/sfb/model/ProzessSchrittLog.java b/src/main/java/de/unibremen/sfb/model/ProzessSchrittLog.java</span>
<span style="font-weight:bold;">index c81221c6..1b6c6931 100644</span>
<span style="font-weight:bold;">--- a/src/main/java/de/unibremen/sfb/model/ProzessSchrittLog.java</span>
<span style="font-weight:bold;">+++ b/src/main/java/de/unibremen/sfb/model/ProzessSchrittLog.java</span>
<span style="color:teal;">@@ -5,6 +5,7 @@</span> import lombok.*;
import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.Id;
<span style="color:green;">import java.io.Serializable;</span>
import java.time.LocalDateTime;

/** Data class for the process chain step log */
<span style="color:teal;">@@ -13,7 +14,11 @@</span> import java.time.LocalDateTime;
@Setter
@NoArgsConstructor(access = AccessLevel.PROTECTED)
@RequiredArgsConstructor
public class ProzessSchrittLog <span style="color:green;">implements Serializable</span> {

    <span style="color:green;">/** On delete set to invalid */</span>
<span style="color:green;">    @NonNull</span>
<span style="color:green;">    private boolean isValidData = true;</span>

    @Id @GeneratedValue
    private int id;
<span style="font-weight:bold;">diff --git a/src/main/java/de/unibremen/sfb/model/ProzessSchrittParameter.java b/src/main/java/de/unibremen/sfb/model/ProzessSchrittParameter.java</span>
<span style="font-weight:bold;">index 7104dc1b..aa92951a 100644</span>
<span style="font-weight:bold;">--- a/src/main/java/de/unibremen/sfb/model/ProzessSchrittParameter.java</span>
<span style="font-weight:bold;">+++ b/src/main/java/de/unibremen/sfb/model/ProzessSchrittParameter.java</span>
<span style="color:teal;">@@ -3,18 +3,24 @@</span> package de.unibremen.sfb.model;
import lombok.*;

import javax.persistence.*;
import <span style="color:red;">java.util.Set;</span><span style="color:green;">java.io.Serializable;</span>
<span style="color:green;">import java.util.List;</span>

/** The process chain step parameter's data class  */
@Getter
@Setter
@Entity
<span style="color:red;">@NoArgsConstructor()</span>
<span style="color:red;">@RequiredArgsConstructor</span><span style="color:green;">@NoArgsConstructor(access = AccessLevel.PUBLIC)</span>
<span style="color:green;">@RequiredArgsConstructor(access = AccessLevel.PUBLIC)</span>
public class ProzessSchrittParameter <span style="color:green;">implements Serializable</span> {

    <span style="color:green;">/** On delete set to invalid */</span>
<span style="color:green;">    @NonNull</span>
<span style="color:green;">    private boolean isValidData = true;</span>

    @Id
    <span style="color:red;">@GeneratedValue</span><span style="color:green;">@NonNull</span>
    private <span style="color:red;">String</span><span style="color:green;">int</span> id;

    /** The process step parameter's name */
    @NonNull
<span style="color:teal;">@@ -22,6 +28,12 @@</span> public class ProzessSchrittParameter {

    /** The qualitative/quantitative descriptors creating this process step parameter */
    @NonNull
    <span style="color:red;">@ManyToMany</span><span style="color:green;">@ManyToMany(fetch = FetchType.LAZY)</span>
    private <span style="color:red;">Set&lt;QualitativeEigenschaft&gt;</span><span style="color:green;">List&lt;QualitativeEigenschaft&gt;</span> qualitativeEigenschaften;

    <span style="color:green;">@Override</span>
<span style="color:green;">    public String toString() {</span>
<span style="color:green;">        return String.valueOf(id);</span>
<span style="color:green;">    }</span>

}
<span style="font-weight:bold;">diff --git a/src/main/java/de/unibremen/sfb/model/ProzessSchrittVorlage.java b/src/main/java/de/unibremen/sfb/model/ProzessSchrittVorlage.java</span>
<span style="font-weight:bold;">index 0821a489..eac9f8a9 100644</span>
<span style="font-weight:bold;">--- a/src/main/java/de/unibremen/sfb/model/ProzessSchrittVorlage.java</span>
<span style="font-weight:bold;">+++ b/src/main/java/de/unibremen/sfb/model/ProzessSchrittVorlage.java</span>
<span style="color:teal;">@@ -3,13 +3,12 @@</span> package de.unibremen.sfb.model;
import lombok.*;

import javax.persistence.*;
<span style="color:red;">import java.time.Duration;</span>
import java.util.List;

/** Data class for the process step templates */
@Data
@Entity
<span style="color:red;">@NoArgsConstructor(access = AccessLevel.PROTECTED)</span><span style="color:green;">@NoArgsConstructor</span>
@RequiredArgsConstructor
public class ProzessSchrittVorlage {

<span style="color:teal;">@@ -19,38 +18,55 @@</span> public class ProzessSchrittVorlage {
    @NonNull
    private int psVID;

    /** <span style="color:red;">Duration of the process step template</span><span style="color:green;">On delete set to invalid</span> */
    @NonNull
    private <span style="color:red;">Duration dauer;</span><span style="color:green;">boolean isValidData = true;</span>

    /** <span style="color:red;">Accepted container input types</span><span style="color:green;">Process step parameters</span> */
    <span style="color:red;">@OneToMany</span><span style="color:green;">@ManyToMany(fetch = FetchType.LAZY)</span>
<span style="color:green;">    @NonNull</span>
    private <span style="color:red;">List&lt;TraegerArt&gt; eingabeTraeger;</span><span style="color:green;">List&lt;ProzessSchrittParameter&gt; prozessSchrittParameters;</span>

    /** <span style="color:red;">Accepted container output types</span><span style="color:green;">The experimenting station the process step is being carried out at</span> */
    <span style="color:red;">@OneToMany</span><span style="color:green;">@ManyToOne</span>
<span style="color:green;">    @NonNull</span>
    private <span style="color:red;">List&lt;TraegerArt&gt; ausgabeTraeger;</span><span style="color:green;">ExperimentierStation experimentierStation;</span>

<span style="color:green;">    /** Duration of the process step template */</span>
<span style="color:green;">    @NonNull</span>
<span style="color:green;">    private String dauer;</span>

    /** <span style="color:red;">The process</span><span style="color:green;">Process</span> step <span style="color:red;">type</span><span style="color:green;">template name</span> */
    @NonNull
    private String <span style="color:red;">psArt;</span><span style="color:green;">name;</span>

    /** The <span style="color:red;">experimenting stations accepted in</span><span style="color:green;">state Automaton for</span> the process step<span style="color:red;">template</span> */<span style="color:red;">@OneToMany</span>
    @NonNull
    <span style="color:green;">@ManyToOne</span>
    private <span style="color:red;">List&lt;ExperimentierStation&gt; stationen;</span><span style="color:green;">ProzessSchrittZustandsAutomatVorlage zustandsAutomatVorlage;</span>

    /** <span style="color:red;">The process step template's state automaton template</span><span style="color:green;">Urformend</span> */
    @NonNull
<span style="color:red;">@OneToOne</span>    private <span style="color:red;">ProzessSchrittZustandsAutomatVorlage zustandsAutomat;</span><span style="color:green;">boolean urformend;</span>

    /** <span style="color:red;">The user who</span><span style="color:green;">Name of</span> created <span style="color:red;">this template</span><span style="color:green;">samples</span> */<span style="color:red;">@OneToOne</span>
    private <span style="color:red;">User creator;</span><span style="color:green;">String nameOfCreated;</span>

    /** <span style="color:red;">The process step parameters</span><span style="color:green;">If urformend, amount created</span> */<span style="color:red;">@ManyToMany</span>
    @NonNull
    private <span style="color:red;">List&lt;ProzessSchrittParameter&gt; prozessSchrittParameter;</span><span style="color:green;">int amountCreated;</span>

<span style="color:green;">    /** Accepted container input types */</span>
<span style="color:green;">    @ElementCollection</span>
<span style="color:green;">    private List&lt;String&gt; eingabeTraeger;</span>

<span style="color:green;">    /** Accepted container output types */</span>
<span style="color:green;">    @ElementCollection</span>
<span style="color:green;">    private List&lt;String&gt; ausgabeTraeger;</span>


<span style="color:green;">    @Override</span>
<span style="color:green;">    public String toString(){</span>
<span style="color:green;">        return name;</span>
<span style="color:green;">    }</span>
}
<span style="font-weight:bold;">diff --git a/src/main/java/de/unibremen/sfb/model/ProzessSchrittZustandsAutomat.java b/src/main/java/de/unibremen/sfb/model/ProzessSchrittZustandsAutomat.java</span>
<span style="font-weight:bold;">index 464f6b4a..d95163b6 100644</span>
<span style="font-weight:bold;">--- a/src/main/java/de/unibremen/sfb/model/ProzessSchrittZustandsAutomat.java</span>
<span style="font-weight:bold;">+++ b/src/main/java/de/unibremen/sfb/model/ProzessSchrittZustandsAutomat.java</span>
<span style="color:teal;">@@ -2,10 +2,9 @@</span> package de.unibremen.sfb.model;

import lombok.*;

import <span style="color:red;">javax.persistence.Entity;</span><span style="color:green;">javax.persistence.*;</span>
import <span style="color:red;">javax.persistence.GeneratedValue;</span><span style="color:green;">java.io.Serializable;</span>
import <span style="color:red;">javax.persistence.Id;</span>
<span style="color:red;">import javax.persistence.OneToOne;</span><span style="color:green;">java.util.List;</span>

/** Data class for process step state automatons */
@Getter
<span style="color:teal;">@@ -13,17 +12,27 @@</span> import javax.persistence.OneToOne;
@Entity
@NoArgsConstructor(access = AccessLevel.PROTECTED)
@RequiredArgsConstructor
public class ProzessSchrittZustandsAutomat <span style="color:green;">implements Serializable</span> {

    <span style="color:green;">/** On delete set to invalid */</span>
<span style="color:green;">    @NonNull</span>
<span style="color:green;">    private boolean isValidData = true;</span>

    @Id
    <span style="color:red;">@GeneratedValue</span><span style="color:green;">@NonNull</span>
    private int id;

    /** The state the automaton is currently in */
    @NonNull
    private String current;

    /** <span style="color:green;">State automaton name */</span>
<span style="color:green;">    private String name;</span>

<span style="color:green;">    /**</span>
<span style="color:green;">     *</span> The <span style="color:green;">states the</span> process step <span style="color:red;">state automaton template the automaton was created from (containing all possible states)</span><span style="color:green;">automatons can be in</span>
     */
    @NonNull
    <span style="color:red;">@OneToOne</span><span style="color:green;">@ElementCollection(fetch = FetchType.LAZY)</span>
    private <span style="color:red;">ProzessSchrittZustandsAutomatVorlage prozessSchrittZustandsAutomatVorlage;</span><span style="color:green;">List&lt;String&gt; zustaende;</span>
}
<span style="font-weight:bold;">diff --git a/src/main/java/de/unibremen/sfb/model/ProzessSchrittZustandsAutomatVorlage.java b/src/main/java/de/unibremen/sfb/model/ProzessSchrittZustandsAutomatVorlage.java</span>
<span style="font-weight:bold;">index 186091ae..c149f991 100644</span>
<span style="font-weight:bold;">--- a/src/main/java/de/unibremen/sfb/model/ProzessSchrittZustandsAutomatVorlage.java</span>
<span style="font-weight:bold;">+++ b/src/main/java/de/unibremen/sfb/model/ProzessSchrittZustandsAutomatVorlage.java</span>
<span style="color:teal;">@@ -3,35 +3,46 @@</span> package de.unibremen.sfb.model;
import lombok.*;

import javax.persistence.*;
<span style="color:red;">import java.util.ArrayList;</span>
import java.util.List;

/**
 <span style="color:green;">*</span> Data class for the process step automaton templates
 */
@Getter
<span style="color:green;">@Setter</span>
@RequiredArgsConstructor
@Entity
<span style="color:green;">@NoArgsConstructor</span>
public class ProzessSchrittZustandsAutomatVorlage {

    <span style="color:green;">/**</span>
<span style="color:green;">     * On delete set to invalid</span>
<span style="color:green;">     */</span>
<span style="color:green;">    @NonNull</span>
<span style="color:green;">    private boolean isValidData = true;</span>

    @Id
    <span style="color:red;">@GeneratedValue</span><span style="color:green;">@NonNull</span>
    private int id;

    /**
     <span style="color:green;">*</span> The states the process step automatons can be in
     */
    @NonNull
    @ElementCollection
    private List&lt;String&gt; zustaende;

    <span style="color:red;">/** The user who created this template */</span>
<span style="color:red;">    @ManyToOne</span>
<span style="color:red;">    public User creator;</span><span style="color:green;">//Leo Möglische Loesung</span>
<span style="color:green;">    //@OneToMany</span>
<span style="color:green;">    //private List&lt;Zustand&gt; zustaende;</span>

    @NonNull
    private String name;

    <span style="color:green;">@Override</span>
    public <span style="color:red;">ProzessSchrittZustandsAutomatVorlage()</span><span style="color:green;">String toString()</span> {
        <span style="color:red;">this.zustaende = new ArrayList&lt;&gt;();</span>
<span style="color:red;">        zustaende.add(&quot;Angenommen&quot;);</span>
<span style="color:red;">        zustaende.add(&quot;In Bearbeitung&quot;);</span>
<span style="color:red;">        zustaende.add(&quot;Bearbeitet&quot;);</span>
<span style="color:red;">        zustaende.add(&quot;Weitergeleitet&quot;);</span><span style="color:green;">return &quot;ProzessSchrittZustandsAutomatVorlage{&quot; +</span>
<span style="color:green;">                &quot;name='&quot; + name + '\'' +</span>
<span style="color:green;">                '}';</span>
    }
}
<span style="font-weight:bold;">diff --git a/src/main/java/de/unibremen/sfb/model/ProzessSchrittZustandsAutomatZustaende.java b/src/main/java/de/unibremen/sfb/model/ProzessSchrittZustandsAutomatZustaende.java</span>
<span style="font-weight:bold;">new file mode 100644</span>
<span style="font-weight:bold;">index 00000000..c807f7eb</span>
<span style="font-weight:bold;">--- /dev/null</span>
<span style="font-weight:bold;">+++ b/src/main/java/de/unibremen/sfb/model/ProzessSchrittZustandsAutomatZustaende.java</span>
<span style="color:teal;">@@ -0,0 +1,26 @@</span>
<span style="color:green;">package de.unibremen.sfb.model;</span>

<span style="color:green;">import lombok.*;</span>

<span style="color:green;">import javax.persistence.ElementCollection;</span>
<span style="color:green;">import javax.persistence.Entity;</span>
<span style="color:green;">import javax.persistence.Id;</span>
<span style="color:green;">import java.util.List;</span>

<span style="color:green;">@Entity</span>
<span style="color:green;">@Getter</span>
<span style="color:green;">@Setter</span>
<span style="color:green;">@RequiredArgsConstructor</span>
<span style="color:green;">@NoArgsConstructor</span>
<span style="color:green;">public class ProzessSchrittZustandsAutomatZustaende {</span>

<span style="color:green;">    /** ID */</span>
<span style="color:green;">    @Id</span>
<span style="color:green;">    @NonNull</span>
<span style="color:green;">    private int id;</span>

<span style="color:green;">    /** List of available process step states */</span>
<span style="color:green;">    @ElementCollection</span>
<span style="color:green;">    @NonNull</span>
<span style="color:green;">    private List&lt;String&gt; zustaende;</span>
<span style="color:green;">}</span>
<span style="font-weight:bold;">diff --git a/src/main/java/de/unibremen/sfb/model/QualitativeEigenschaft.java b/src/main/java/de/unibremen/sfb/model/QualitativeEigenschaft.java</span>
<span style="font-weight:bold;">index 4bc70c8f..578fd7c1 100644</span>
<span style="font-weight:bold;">--- a/src/main/java/de/unibremen/sfb/model/QualitativeEigenschaft.java</span>
<span style="font-weight:bold;">+++ b/src/main/java/de/unibremen/sfb/model/QualitativeEigenschaft.java</span>
<span style="color:teal;">@@ -4,16 +4,37 @@</span> import lombok.*;

import javax.persistence.Entity;
import javax.persistence.Id;
<span style="color:green;">import javax.persistence.NamedQueries;</span>
<span style="color:green;">import javax.persistence.NamedQuery;</span>

/**
 <span style="color:green;">*</span> Data class for the qualitative descriptors
 */
<span style="color:red;">@Getter</span>
<span style="color:red;">@Setter</span><span style="color:green;">@Data</span>
@Entity
@NoArgsConstructor(access = <span style="color:red;">AccessLevel.PROTECTED)</span>
<span style="color:red;">@RequiredArgsConstructor</span><span style="color:green;">AccessLevel.PUBLIC)</span>
<span style="color:green;">@RequiredArgsConstructor(access = AccessLevel.PUBLIC)</span>
<span style="color:green;">@NamedQueries({</span>
<span style="color:green;">        @NamedQuery(name = &quot;QualitativeEigenschaft.getAll&quot;, query = &quot;SELECT q FROM QualitativeEigenschaft q WHERE q.isValidData = true&quot;)</span>
<span style="color:green;">})</span>

public class QualitativeEigenschaft {

    /**
     <span style="color:green;">* On delete set to invalid</span>
<span style="color:green;">     */</span>
<span style="color:green;">    @NonNull</span>
<span style="color:green;">    private boolean isValidData = true;</span>

<span style="color:green;">    /**</span>
<span style="color:green;">     * ID descriptor</span>
<span style="color:green;">     */</span>
<span style="color:green;">    @NonNull</span>
<span style="color:green;">    @Id</span>
<span style="color:green;">    private int id;</span>
<span style="color:green;">    /**</span>
<span style="color:green;">     *</span> Qualitative descriptor name
     */<span style="color:red;">@Id</span>
    @NonNull
    private String name;
}
<span style="font-weight:bold;">diff --git a/src/main/java/de/unibremen/sfb/model/QuantitativeEigenschaft.java b/src/main/java/de/unibremen/sfb/model/QuantitativeEigenschaft.java</span>
<span style="font-weight:bold;">index 2dfb9e16..d8ed8d3c 100644</span>
<span style="font-weight:bold;">--- a/src/main/java/de/unibremen/sfb/model/QuantitativeEigenschaft.java</span>
<span style="font-weight:bold;">+++ b/src/main/java/de/unibremen/sfb/model/QuantitativeEigenschaft.java</span>
<span style="color:teal;">@@ -1,7 +1,6 @@</span>
package de.unibremen.sfb.model;

import lombok.*;
<span style="color:red;">import si.uom.SI;</span>

import javax.persistence.*;

<span style="color:teal;">@@ -9,9 +8,14 @@</span> import javax.persistence.*;
@Getter
@Setter
@Entity
<span style="color:red;">@NoArgsConstructor</span><span style="color:green;">@NoArgsConstructor(access = AccessLevel.PUBLIC)</span>
<span style="color:green;">@RequiredArgsConstructor(access = AccessLevel.PUBLIC)</span>
public class QuantitativeEigenschaft extends QualitativeEigenschaft {

    <span style="color:green;">/** On delete set to invalid */</span>
<span style="color:green;">    @NonNull</span>
<span style="color:green;">    private boolean isValidData = true;</span>

    /** The numeric quantitative value  */
    @NonNull
    private Number wert;
<span style="color:teal;">@@ -19,13 +23,18 @@</span> public class QuantitativeEigenschaft extends QualitativeEigenschaft {
    /**
     * The quantitative descriptor value's measuring unit
     */
<span style="color:red;">//TODO</span>
<span style="color:red;">//</span>    @NonNull<span style="color:red;">//    @OneToOne</span>
<span style="color:red;">//</span>
    private <span style="color:red;">SI</span><span style="color:green;">String</span> einheit;

    public <span style="color:red;">QuantitativeEigenschaft(String</span><span style="color:green;">QuantitativeEigenschaft(int id, String</span> name, Number <span style="color:red;">wert) {</span>
<span style="color:red;">        super(name);</span>
<span style="color:red;">        this.wert = wert;</span><span style="color:green;">wert, String einheit){</span>
<span style="color:green;">        super(id,name);</span>
<span style="color:green;">        this.wert=wert;</span>
<span style="color:green;">        this.einheit=einheit;</span>
    }

    <span style="color:green;">public QuantitativeEigenschaft(String name, Number wert, String einheit){</span>
<span style="color:green;">        super();</span>
<span style="color:green;">        this.wert=wert;</span>
<span style="color:green;">        this.einheit=einheit;</span>
<span style="color:green;">    }</span>
}
<span style="font-weight:bold;">diff --git a/src/main/java/de/unibremen/sfb/model/Role.java b/src/main/java/de/unibremen/sfb/model/Role.java</span>
<span style="font-weight:bold;">index b933e886..efeeac5c 100644</span>
<span style="font-weight:bold;">--- a/src/main/java/de/unibremen/sfb/model/Role.java</span>
<span style="font-weight:bold;">+++ b/src/main/java/de/unibremen/sfb/model/Role.java</span>
<span style="color:teal;">@@ -1,6 +1,41 @@</span>
package de.unibremen.sfb.model;

<span style="color:green;">import lombok.*;</span>

<span style="color:green;">import javax.persistence.*;</span>

/**
 <span style="color:green;">*</span> The roles a user can <span style="color:red;">have*/</span><span style="color:green;">have</span>
<span style="color:green;"> */</span>

<span style="color:green;">@Data</span>
<span style="color:green;">@Entity</span>
<span style="color:green;">@NamedQueries({</span>
<span style="color:green;">        @NamedQuery(name = &quot;Role.getAll&quot;, query = &quot;SELECT u FROM Role u WHERE u.isValidData = true&quot;),</span>
<span style="color:green;">        @NamedQuery(name = &quot;Role.getByName&quot;, query = &quot;select u from Role u where u.isValidData = true and u.username = :name&quot;),</span>
<span style="color:green;">        @NamedQuery(name = &quot;Role.getByUser&quot;, query = &quot;select r from Role r where r.username = :username and r.isValidData = true&quot;)</span>
<span style="color:green;">})</span>
<span style="color:green;">@RequiredArgsConstructor(access = AccessLevel.PUBLIC)</span>
<span style="color:green;">@NoArgsConstructor(access = AccessLevel.PROTECTED)</span>
public <span style="color:red;">enum</span><span style="color:green;">class</span> Role {

    <span style="color:red;">TECHNOLOGE, PKADMIN, TRANSPORT, LOGISTIKER, ADMIN</span><span style="color:green;">/** ID */</span>
<span style="color:green;">    @Id</span>
<span style="color:green;">    @NonNull</span>
<span style="color:green;">    private int id;</span>

<span style="color:green;">    /**</span>
<span style="color:green;">     * On delete set to invalid</span>
<span style="color:green;">     */</span>
<span style="color:green;">    @NonNull</span>
<span style="color:green;">    private boolean isValidData = true;</span>

<span style="color:green;">    /**</span>
<span style="color:green;">     * Role type</span>
<span style="color:green;">     */</span>
<span style="color:green;">    @NonNull</span>
<span style="color:green;">    private String name;</span>

<span style="color:green;">    /** User assigned the role */</span>
<span style="color:green;">    private String username;</span>
}
<span style="font-weight:bold;">diff --git a/src/main/java/de/unibremen/sfb/model/Standort.java b/src/main/java/de/unibremen/sfb/model/Standort.java</span>
<span style="font-weight:bold;">index f865e3b8..cc391970 100644</span>
<span style="font-weight:bold;">--- a/src/main/java/de/unibremen/sfb/model/Standort.java</span>
<span style="font-weight:bold;">+++ b/src/main/java/de/unibremen/sfb/model/Standort.java</span>
<span style="color:teal;">@@ -3,23 +3,43 @@</span> package de.unibremen.sfb.model;
import lombok.*;

import javax.persistence.Entity;
<span style="color:red;">import javax.persistence.GeneratedValue;</span>
<span style="color:red;">import javax.persistence.GenerationType;</span>
import javax.persistence.Id;
<span style="color:green;">import javax.persistence.NamedQueries;</span>
<span style="color:green;">import javax.persistence.NamedQuery;</span>
<span style="color:green;">import java.io.Serializable;</span>

/**
 <span style="color:green;">*</span> The location data class
 */
@Getter
@Setter
@Entity
@RequiredArgsConstructor
<span style="color:red;">@NoArgsConstructor(access</span><span style="color:green;">@NoArgsConstructor</span>
<span style="color:green;">@NamedQueries({</span>
<span style="color:green;">        @NamedQuery(name</span> = <span style="color:red;">AccessLevel.PROTECTED)</span><span style="color:green;">&quot;Standort.getByOrt&quot;, query = &quot;SELECT s FROM Standort s WHERE s.ort = :ort AND s.isValidData = true&quot;)</span>
<span style="color:green;">})</span>
public class Standort <span style="color:green;">implements Serializable</span> {

    <span style="color:red;">@Id  @GeneratedValue(strategy</span><span style="color:green;">/**</span>
<span style="color:green;">     * On delete set to invalid</span>
<span style="color:green;">     */</span>
<span style="color:green;">    @NonNull</span>
<span style="color:green;">    private boolean isValidData</span> = <span style="color:red;">GenerationType.IDENTITY)</span><span style="color:green;">true;</span>

<span style="color:green;">    @Id</span>
    @NonNull
    private int id;

    /**
     <span style="color:green;">*</span> The location
     */
    @NonNull
    private String ort;

    <span style="color:green;">@Override</span>
<span style="color:green;">    public String toString() {</span>
<span style="color:green;">        return Integer.toString(id);</span>
<span style="color:green;">    }</span>

}
<span style="font-weight:bold;">diff --git a/src/main/java/de/unibremen/sfb/model/Traeger.java b/src/main/java/de/unibremen/sfb/model/Traeger.java</span>
<span style="font-weight:bold;">index 12dd5fb0..32034259 100644</span>
<span style="font-weight:bold;">--- a/src/main/java/de/unibremen/sfb/model/Traeger.java</span>
<span style="font-weight:bold;">+++ b/src/main/java/de/unibremen/sfb/model/Traeger.java</span>
<span style="color:teal;">@@ -6,37 +6,37 @@</span> import javax.persistence.*;
import java.util.List;

/** Data class for container objects */
<span style="color:red;">@Data</span><span style="color:green;">@Getter</span>
<span style="color:green;">@Setter</span>
@Entity
<span style="color:red;">@NamedQueries({</span>
<span style="color:red;">        @NamedQuery(name = &quot;Traeger.findByLoc&quot;, query = &quot;SELECT t FROM Traeger t WHERE standort = :standort&quot;),</span>
<span style="color:red;">        @NamedQuery(name = &quot;Trager.findByProben&quot;, query = &quot;SELECT t FROM Traeger t WHERE proben = :proben&quot;),</span>
<span style="color:red;">        @NamedQuery(name = &quot;Traeger.getByType&quot;, query = &quot;SELECT t FROM Traeger t WHERE art = :art&quot;)</span>
<span style="color:red;">})</span>
@NoArgsConstructor(access = AccessLevel.PROTECTED)
@RequiredArgsConstructor
public class Traeger {

    <span style="color:green;">/** On delete set to invalid */</span>
<span style="color:green;">    @NonNull</span>
<span style="color:green;">    private boolean isValidData = true;</span>

    /** The container's id */
    @NonNull
    @Id
    private int id;

    /** The container's <span style="color:red;">location</span><span style="color:green;">type</span> */
    @NonNull
<span style="color:red;">@ManyToOne</span>    private <span style="color:red;">Standort standort;</span>

<span style="color:red;">    /** The job currently using this container */</span>
<span style="color:red;">    @OneToOne</span>
<span style="color:red;">    private Auftrag zugewiesenerAuftrag;</span><span style="color:green;">String art;</span>

    <span style="color:red;">/** The samples contained in the container */</span>
<span style="color:red;">    @ManyToMany</span><span style="color:green;">@ManyToMany(fetch = FetchType.LAZY)</span>
<span style="color:green;">    @NonNull</span>
    private List&lt;Probe&gt; proben;

    /** <span style="color:red;">The container's type</span><span style="color:green;">Container location</span> */
    @NonNull
    <span style="color:red;">@OneToOne</span><span style="color:green;">@ManyToOne</span>
    private <span style="color:red;">TraegerArt art;</span><span style="color:green;">Standort standort;</span>

<span style="color:green;">    @Override</span>
<span style="color:green;">    public String toString(){</span>
<span style="color:green;">        return &quot;Traeger &quot; + id;</span>
<span style="color:green;">    }</span>
}
<span style="font-weight:bold;">diff --git a/src/main/java/de/unibremen/sfb/model/TraegerArt.java b/src/main/java/de/unibremen/sfb/model/TraegerArt.java</span>
<span style="font-weight:bold;">index bbfd2622..8e344382 100644</span>
<span style="font-weight:bold;">--- a/src/main/java/de/unibremen/sfb/model/TraegerArt.java</span>
<span style="font-weight:bold;">+++ b/src/main/java/de/unibremen/sfb/model/TraegerArt.java</span>
<span style="color:teal;">@@ -10,14 +10,24 @@</span> import java.util.List;
@Setter
@Entity
@NoArgsConstructor(access = AccessLevel.PROTECTED)
<span style="color:green;">@RequiredArgsConstructor</span>
public class TraegerArt {

    <span style="color:green;">/** On delete set to invalid */</span>
<span style="color:green;">    @NonNull</span>
<span style="color:green;">    private boolean isValidData = true;</span>

<span style="color:green;">    /** Container Type */</span>
    @Id
    <span style="color:red;">@GeneratedValue</span><span style="color:green;">@NonNull</span>
    private <span style="color:red;">int id;</span><span style="color:green;">String art;</span>

<span style="color:red;">    /**</span>
<span style="color:red;">     * List containing all container types</span>
<span style="color:red;">     */</span>
    @ElementCollection
    private List&lt;String&gt; arten;

    <span style="color:green;">@Override</span>
<span style="color:green;">    public String toString() {</span>
<span style="color:green;">        return</span>
<span style="color:green;">                &quot;art='&quot; + art ;</span>
<span style="color:green;">    }</span>
}
<span style="font-weight:bold;">diff --git a/src/main/java/de/unibremen/sfb/model/TransportAuftrag.java b/src/main/java/de/unibremen/sfb/model/TransportAuftrag.java</span>
<span style="font-weight:bold;">index bb073c6f..8d0e1813 100644</span>
<span style="font-weight:bold;">--- a/src/main/java/de/unibremen/sfb/model/TransportAuftrag.java</span>
<span style="font-weight:bold;">+++ b/src/main/java/de/unibremen/sfb/model/TransportAuftrag.java</span>
<span style="color:teal;">@@ -2,9 +2,9 @@</span> package de.unibremen.sfb.model;

import lombok.*;

import <span style="color:red;">javax.persistence.Entity;</span><span style="color:green;">javax.persistence.*;</span>
import <span style="color:red;">javax.persistence.GeneratedValue;</span><span style="color:green;">java.io.Serializable;</span>
import <span style="color:red;">javax.persistence.Id;</span><span style="color:green;">java.time.LocalDateTime;</span>

/** The transport jobs' data class */
@Getter
<span style="color:teal;">@@ -12,12 +12,32 @@</span> import javax.persistence.Id;
@Entity
@NoArgsConstructor(access = AccessLevel.PROTECTED)
@RequiredArgsConstructor
public class TransportAuftrag <span style="color:green;">implements Serializable</span> {

    <span style="color:green;">/** On delete set to invalid */</span>
<span style="color:green;">    @NonNull</span>
<span style="color:green;">    private boolean isValidData = true;</span>

    @Id @GeneratedValue
    private int id;

    <span style="color:green;">@NonNull</span>
<span style="color:green;">    private LocalDateTime erstellt;</span>
<span style="color:green;">    private LocalDateTime abgeholt;</span>
<span style="color:green;">    private LocalDateTime abgeliefert;</span>

<span style="color:green;">    @ManyToOne</span>
<span style="color:green;">    private User user;</span>

    /** The transport job's current state */
    @NonNull
    private Enum&lt;TransportAuftragZustand&gt; zustandsAutomat;

    <span style="color:green;">@ManyToOne</span>
<span style="color:green;">    @NonNull</span>
<span style="color:green;">    private Standort start;</span>
<span style="color:green;">    @ManyToOne</span>
<span style="color:green;">    @NonNull</span>
<span style="color:green;">    private Standort ziel;</span>

}
<span style="font-weight:bold;">diff --git a/src/main/java/de/unibremen/sfb/model/TransportAuftragZustand.java b/src/main/java/de/unibremen/sfb/model/TransportAuftragZustand.java</span>
<span style="font-weight:bold;">index b274bbdc..83a8f324 100644</span>
<span style="font-weight:bold;">--- a/src/main/java/de/unibremen/sfb/model/TransportAuftragZustand.java</span>
<span style="font-weight:bold;">+++ b/src/main/java/de/unibremen/sfb/model/TransportAuftragZustand.java</span>
<span style="color:teal;">@@ -2,5 +2,5 @@</span> package de.unibremen.sfb.model;

/** The states a transport job can be in */
public enum TransportAuftragZustand {
    <span style="color:green;">ERSTELLT,</span> ABGEHOLT, ABGELIEFERT
}
<span style="font-weight:bold;">diff --git a/src/main/java/de/unibremen/sfb/model/User.java b/src/main/java/de/unibremen/sfb/model/User.java</span>
<span style="font-weight:bold;">index 5711f3c3..0ed52c93 100644</span>
<span style="font-weight:bold;">--- a/src/main/java/de/unibremen/sfb/model/User.java</span>
<span style="font-weight:bold;">+++ b/src/main/java/de/unibremen/sfb/model/User.java</span>
<span style="color:teal;">@@ -3,11 +3,8 @@</span> package de.unibremen.sfb.model;
import lombok.*;

import javax.persistence.*;
<span style="color:green;">import java.io.Serializable;</span>
import java.time.LocalDateTime;
<span style="color:red;">import java.util.Date;</span>
<span style="color:red;">import java.util.HashSet;</span>
<span style="color:red;">import java.util.List;</span>
<span style="color:red;">import java.util.Set;</span>

/**
 * This class is used to create user objects
<span style="color:teal;">@@ -16,20 +13,25 @@</span> import java.util.Set;
@Entity
@NamedQueries({
        @NamedQuery(name = &quot;User.findById&quot;, query = &quot;SELECT u from User u WHERE u.id = :id&quot;),
        @NamedQuery(name = &quot;User.findByUsername&quot;, query = &quot;SELECT u from User u WHERE u.username = <span style="color:red;">:username&quot;),</span><span style="color:green;">:username AND u.isValidData = true&quot;),</span>
        @NamedQuery(name = &quot;User.findByEmail&quot;, query = &quot;SELECT u from User u WHERE u.email = <span style="color:red;">:email&quot;),</span><span style="color:green;">:email AND u.isValidData = true&quot;),</span>
        @NamedQuery(name = &quot;User.getAll&quot;, query = &quot;SELECT u FROM User <span style="color:red;">u&quot;)</span><span style="color:green;">u WHERE u.isValidData = true&quot;)</span>
})
@RequiredArgsConstructor(access = AccessLevel.PUBLIC)
@NoArgsConstructor(access = AccessLevel.PUBLIC)
public class User <span style="color:green;">implements Serializable</span> {

    <span style="color:green;">/**</span>
<span style="color:green;">     * On delete set to invalid</span>
<span style="color:green;">     */</span>
<span style="color:green;">    @NonNull</span>
<span style="color:green;">    private boolean isValidData = true;</span>

    /**
     * User's id
     */
    @Id
    @NonNull
<span style="color:red;">    @GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    private int id;

    /**
<span style="color:teal;">@@ -66,7 +68,7 @@</span> public class User {
     * User's hashed password
     */
    @NonNull
    private <span style="color:red;">byte[]</span><span style="color:green;">String</span> password;

    /**
     * Is the user verified?
<span style="color:teal;">@@ -80,29 +82,14 @@</span> public class User {
    @NonNull
    private LocalDateTime erstellungsDatum;

<span style="color:red;">    /**</span>
<span style="color:red;">     * The role's of the user</span>
<span style="color:red;">     */</span>
<span style="color:red;">    @NonNull</span>
<span style="color:red;">    @ElementCollection</span>
<span style="color:red;">    private List&lt;Role&gt; rollen;</span>

<span style="color:red;">    /**</span>
<span style="color:red;">     * The experimenting stations a user is assigned to</span>
<span style="color:red;">     */</span>
<span style="color:red;">    @ManyToMany</span>
<span style="color:red;">    private List&lt;ExperimentierStation&gt; stationen;</span>

<span style="color:red;">    /**</span>
<span style="color:red;">     * The jobs a user has</span>
<span style="color:red;">     */</span>
<span style="color:red;">    @NonNull</span>
<span style="color:red;">    @ManyToMany</span>
<span style="color:red;">    private List&lt;Auftrag&gt; auftraege;</span>

    /**
     * The User's language preference
     */
    @NonNull
    private String language;

    <span style="color:green;">@Override</span>
<span style="color:green;">    public String toString() {</span>
<span style="color:green;">        return username;</span>
<span style="color:green;">    }</span>
}
</pre>
</body>
</html>
