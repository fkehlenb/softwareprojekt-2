<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
>
<ui:define name="metadata">
    <f:metadata>
        <f:viewAction action="#{languageBean.setLanguage}"/>
    </f:metadata>
</ui:define>

<h:head>
    <title>SFB - Farbige Zustaende</title>
    <link rel="icon" href="../background.png"/>
</h:head>
<body>
<ui:composition template="/template/common/layout.xhtml">
    <ui:define name="content">
        <p:panelGrid columns="1">
            <p:row>
                <h2 style="color: cornflowerblue">Qualitative und Quantitative Eigenschaftenverwaltung</h2>
            </p:row>
            <p:row>
                <p>In den unteren Tabellen sehen Sie die Qualitative und Quantitativen Eigenschaften die sich im System befinden.
                    Mit den unteren Formularen koennen Sie neue Qualitative und Quantitative Eigenschaften erstellen.
                    Diese Eigenschaften koennen anschliessend verwendet werden um neue Prozessschrittparameter zu erstellen.</p>
            </p:row>
            <p:row>
                <p:panel header="Qualitative Eigenschaften Erstellen">
                    <p:panelGrid>
                        <h:form>
                            <p:row>
                                <p:column colspan="1">
                                    <p:outputLabel for="nameQl" value="Name"/>
                                </p:column>
                                <p:column colspan="1">
                                    <p:inputText id="nameQl" value="#{qlEView.selectedQualitativeName}"
                                                 placeholder="name" required="true"/>
                                </p:column>
                                <p:column colspan="1">
                                    <p:commandButton value="Reset" type="reset"/>
                                </p:column>
                                <p:column colspan="1">
                                    <p:commandButton ajax="true" update="form2:qEin" action="#{qlEView.addQualitative}"
                                                     value="Speichern"/>
                                </p:column>
                            </p:row>
                        </h:form>
                    </p:panelGrid>
                </p:panel>
            </p:row>
            <p:row>
                <h:form id="form2">
                    <p:dataTable id="qEin" var="q"
                                 value="#{qlEView.availableQualitativeEigenschaften}"
                                 editable="true"
                                 paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {Exporters}"
                                 paginator="true" rows="15" style="margin-bottom:20px">>
                        <p:ajax event="rowEdit" listener="#{qlEView.editQualitative(q.id)}"
                                update="form2:qEin"/>
                        <p:ajax event="rowEditCancel" listener="#{qlEView.onRowEditCancelled}"
                                update="form2:qEin"/>
                        <p:column headerText="Qualitative Eingenschaft Name">
                            <p:cellEditor>
                                <f:facet name="output">
                                    <h:outputText value="#{q.name}"/>
                                </f:facet>
                                <f:facet name="input">
                                    <p:inputText id="nameQl2" value="#{qlEView.selectedQualitativeName}"
                                                 placeholder="name" required="true"/>
                                </f:facet>
                            </p:cellEditor>
                        </p:column>
                        <p:column>
                            <p:commandButton value="Delete" icon="pi pi-trash" ajax="true" update="form2:qEin" action="#{qlEView.removeQualitative(q.id)}"/>
                        </p:column>
                        <p:column>
                            <p:rowEditor/>
                        </p:column>
                    </p:dataTable>
                </h:form>
            </p:row>
            <p:row>
                <p:panel header="Quantitative Eigenschaften Erstellen">
                    <p:panelGrid>
                        <h:form>
                            <p:row>
                                <p:column colspan="1">
                                    <p:outputLabel for="name" value="Name"/>
                                </p:column>
                                <p:column colspan="1">
                                    <p:inputText id="name" value="#{qlEView.selectedQuantitativeName}"
                                                 placeholder="name"/>
                                </p:column>
                                <p:column colspan="1">
                                    <h:outputText value="Wert"/>
                                </p:column>
                                <p:column colspan="1">
                                    <p:inputText id="value" value="#{qlEView.value}"
                                                 placeholder="Wert">
                                        <f:validateRegex pattern="[0-9]+"/>
                                    </p:inputText>
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column colspan="1">
                                    <h:outputText value="Einheit"/>
                                </p:column>
                                <p:column colspan="1">
                                    <p:inputText placeholder="Einheit" required="true"
                                                 requiredMessage="Bitte einheit eingeben!"
                                                 value="#{qlEView.measurement}"/>
                                </p:column>
                                <p:column colspan="1">
                                    <p:commandButton value="Reset" type="reset"/>
                                </p:column>
                                <p:column colspan="1">
                                    <p:commandButton ajax="true" action="#{qlEView.addQuantitative}"
                                                     value="Speichern" update="form3:qEin2"/>
                                </p:column>
                            </p:row>
                        </h:form>
                    </p:panelGrid>
                </p:panel>
            </p:row>
            <p:row>
                <h:form id="form3">
                    <p:dataTable id="qEin2" var="q"
                                 value="#{qlEView.availableQuantitativeEigenschaften}"
                                 editable="true"
                                 paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {Exporters}"
                                 paginator="true" rows="15" style="margin-bottom:20px">>
                        <p:ajax event="rowEdit" listener="#{qlEView.editQuantitative(q.id)}"
                                update="form3:qEin2"/>
                        <p:ajax event="rowEditCancel" listener="#{qlEView.onRowEditCancelled}"
                                update="form3:qEin2"/>
                        <p:column headerText="Qualitative Eingenschaft Name">
                            <p:cellEditor>
                                <f:facet name="output">
                                    <h:outputText value="#{q.name}"/>
                                </f:facet>
                                <f:facet name="input">
                                    <p:inputText id="name2" value="#{qlEView.selectedQuantitativeName}"
                                                 placeholder="name"/>
                                </f:facet>
                            </p:cellEditor>
                        </p:column>
                        <p:column headerText="Wert">
                            <p:cellEditor>
                                <f:facet name="output">
                                    <h:outputText value="#{q.wert}"/>
                                </f:facet>
                                <f:facet name="input">
                                    <p:inputText id="value2" value="#{qlEView.value}"
                                                 placeholder="Wert">
                                        <f:validateRegex pattern="[0-9]+"/>
                                    </p:inputText>
                                </f:facet>
                            </p:cellEditor>
                        </p:column>
                        <p:column headerText="Einheit">
                            <p:cellEditor>
                                <f:facet name="output">
                                    <h:outputText value="#{q.einheit}"/>
                                </f:facet>
                                <f:facet name="input">
                                    <p:inputText placeholder="Einheit" required="true"
                                                 requiredMessage="Bitte einheit eingeben!"
                                                 value="#{qlEView.measurement}"/>
                                </f:facet>
                            </p:cellEditor>
                        </p:column>
                        <p:column>
                            <p:commandButton value="Delete" icon="pi pi-trash" ajax="true" update="form3:qEin2" action="#{qlEView.removeQuantitative(q.id)}"/>
                        </p:column>
                        <p:column>
                            <p:rowEditor/>
                        </p:column>
                    </p:dataTable>
                </h:form>
            </p:row>
        </p:panelGrid>
    </ui:define>
</ui:composition>
</body>
</html>
